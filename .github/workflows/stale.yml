name: Mark Stale Issues and PRs

on:
  schedule:
    - cron: '0 0 * * *' # Daily at midnight

permissions:
  issues: write
  pull-requests: write

jobs:
  stale:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/stale@v9
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}

          # Issues
          stale-issue-message: |
            This issue has been automatically marked as stale because it has not had 
            recent activity. It will be closed in 7 days if no further activity occurs. 
            Thank you for your contributions!
          close-issue-message: |
            This issue was automatically closed because it has been stale for 7 days 
            with no activity.
          days-before-stale: 60
          days-before-close: 7
          stale-issue-label: 'stale'
          exempt-issue-labels: 'pinned,security,bug,enhancement'

          # Pull Requests
          stale-pr-message: |
            This pull request has been automatically marked as stale because it has not had 
            recent activity. It will be closed in 14 days if no further activity occurs. 
            Please update the PR or reach out if you need help!
          close-pr-message: |
            This pull request was automatically closed because it has been stale for 14 days 
            with no activity.
          days-before-pr-stale: 45
          days-before-pr-close: 14
          stale-pr-label: 'stale'
          exempt-pr-labels: 'pinned,security,in-progress'

          # General
          operations-per-run: 30
          ascending: true
